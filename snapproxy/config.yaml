name: "snapcast-proxy"
description: "Snapcast Client & Server proxy"
version: "0.29"
slug: "snapcastproxy"
init: false
arch:
  - aarch64
  - amd64
  - armhf
  - armv7
  - i386
startup: system
boot: auto
map:
  - share:rw
ingress: true
ingress_port: 1780
ports:
  1704/tcp: 1704
  1705/tcp: 1705
ports_description:
  1704/tcp: "Snapserver stream endpoint"
  1705/tcp: "Snapserver control endpoint"
schema:
  stream:
    #    sources: list(str)
    buffer: int
    codec: str
    send_to_muted: bool
    sampleformat: str
  http:
    enabled: bool
    doc_root: str
  tcp:
    enabled: bool
  logging :
    enabled: bool
  server:
    threads: int
    datadir: str
  upstream_snapserver: str
options:
  stream:
    streams: '["process:///usr/bin/snapclient?name=Snapclient&params=--host%20$UPSTREAM_SNAPSERVER%20--player%20file:filename=stdout"]'
    buffer: 1000
    codec: "flac"
    send_to_muted: true
    sampleformat: "48000:16:2"
  http:
    enabled: true
    doc_root: "/usr/share/snapserver/snapweb/"
  tcp:
    enabled: true
  logging:
    enabled: true
  server:
    threads: -1
    datadir: "/share/snapcast/"
  upstream_snapserver: "snapcastserver"
